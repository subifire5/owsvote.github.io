<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="../style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
canvas {
    border:1px solid #FF0000;
    background-color: #333333;
}

</style>
<div align="right">
<A HREF="../gamelist">Back</A>
<button type="button" onclick="myGameArea.clear();">Clear!</button><br>
<p>Brush Size  <input type="range" min="5" max="50" value="5" step="5" onchange="showValue(this.value); myGamePiece.size(this.value);"/></a>
<span id="range">5</span>
<p>Color Picker:  <input type="text" name="colorR" value="255" size="4" onchange="colorR = this.value">R<input type="text" name="colorR" value="255" size="4" onchange="colorG = this.value">G<input type="text" name="colorB" value="255" size="4" onchange="colorB = this.value">B</p>
                 <p>Random Color    <input type="radio" name="randomColor" value="On" onchange="randomColor = true">On<input type="radio" name="randomColor" value="Off" onchange="randomColor = false">Off</a>
</div>
</head>
<body onload="startGame()">

<script>
var color = "blue";
var myGamePiece;
var count = 0

function startGame()
{
    myGameArea.start();
    myGamePiece = new component(10, 10, color, 0, 0);
}

var myGameArea = {
    canvas : document.createElement("canvas"),
    start : function()
    {
        this.canvas.width = 800;
        this.canvas.height = 400;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[0]);
        this.interval = setInterval(updateGameArea, 55);
        window.addEventListener('keydown', function (e)
        {
            myGameArea.key = e.keyCode;
        })
        window.addEventListener('keyup', function (e)
        {
            myGameArea.key = false;
        })
    },
    clear : function()
    {
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
}

function component(width, height, color, x, y)
{
    this.gamearea = myGameArea;
    this.width = width;
    this.height = height;
    this.speedX = 0;
    this.speedY = 0;
    this.x = x;
    this.y = y;
    this.randomColor = false
    this.update = function()
    {
        ctx = myGameArea.context;
        if (randomColor == true)
        {
          ctx.fillStyle = getRndColor();
        } else {
          ctx.fillStyle = rgb(colorR, colorG, colorB);
        }
        ctx.fillRect(this.x, this.y, this.width, this.height);
    }
    this.newPos = function()
    {
        this.x += this.speedX;
        this.y += this.speedY;
    }
    this.size = function(size)
    {
      this.width = size;
      this.height = size;
    }
}

function updateGameArea()
{
    myGamePiece.speedX = 0;
    myGamePiece.speedY = 0;
    if (myGameArea.key && myGameArea.key == 37) {myGamePiece.speedX = myGamePiece.width*-1; }
    if (myGameArea.key && myGameArea.key == 39) {myGamePiece.speedX = myGamePiece.width*1; }
    if (myGameArea.key && myGameArea.key == 38) {myGamePiece.speedY = myGamePiece.width*-1; }
    if (myGameArea.key && myGameArea.key == 40) {myGamePiece.speedY = myGamePiece.width*1; }
    myGamePiece.newPos();
    myGamePiece.update();
}

// Misc Functions

function getRndColor()
{
    var r = 255*Math.random()|0,
        g = 255*Math.random()|0,
        b = 255*Math.random()|0;
    return 'rgb(' + r + ',' + g + ',' + b + ')';
}

function showValue(newValue)
{
	document.getElementById("range").innerHTML=newValue;
}


</script>
</body>
</html>
